<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Transform 3D points using a registration, affine matrix or function — xformpoints • nat</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">nat</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Installation.html">Installation Details</a>
    </li>
    <li>
      <a href="../articles/neurons-intro.html">Introduction to neurons and neuronlists</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jefferis/nat">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Transform 3D points using a registration, affine matrix or function</h1>
    </div>

    
    <p>You should almost always call <code><a href='xform.html'>xform</a></code> rather calling
  than<code>xformpoints</code> directly.</p>
    

    <pre class="usage"><span class='fu'>xformpoints</span>(<span class='no'>reg</span>, <span class='no'>points</span>, <span class='no'>...</span>)

<span class='co'># S3 method for character</span>
<span class='fu'>xformpoints</span>(<span class='no'>reg</span>, <span class='no'>points</span>, <span class='no'>...</span>)

<span class='co'># S3 method for cmtkreg</span>
<span class='fu'>xformpoints</span>(<span class='no'>reg</span>, <span class='no'>points</span>, <span class='kw'>transformtype</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"warp"</span>,
  <span class='st'>"affine"</span>), <span class='kw'>direction</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>FallBackToAffine</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for reglist</span>
<span class='fu'>xformpoints</span>(<span class='no'>reg</span>, <span class='no'>points</span>, <span class='no'>...</span>)

<span class='co'># S3 method for default</span>
<span class='fu'>xformpoints</span>(<span class='no'>reg</span>, <span class='no'>points</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>reg</th>
      <td><p>A registration defined by a matrix, a function, a
<code><a href='cmtkreg.html'>cmtkreg</a></code> object, a <code><a href='reglist.html'>reglist</a></code> object containing a
sequence of arbitrary registrations, or a character vector specifying
path(s) to registrations on disk (see details).</p></td>
    </tr>
    <tr>
      <th>points</th>
      <td><p>Nx3 matrix of points</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments passed to methods</p></td>
    </tr>
    <tr>
      <th>transformtype</th>
      <td><p>Which transformation to use when the CMTK file contains
both warp (default) and affine</p></td>
    </tr>
    <tr>
      <th>direction</th>
      <td><p>Whether to transform points from sample space to reference
space (called <strong>inverse</strong> by CMTK) or from reference to sample space
(called <strong>forward</strong> by CMTK). Default (when <code>NULL</code> is inverse).</p></td>
    </tr>
    <tr>
      <th>FallBackToAffine</th>
      <td><p>Whether to use the affine transformation for points
that fail to transform under a warping transformation.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>If a list of transformations is passed in, these transformations are
performed in sequence order, such that <code>xformpoints(c(a,b,c), x) ==
xformpoints(c, (xformpoints(b, xformpoints(a, x))))</code></p>
<p>Note that the direction of CMTK registrations can be the source of
  much confusion. This is because CMTK defines the <em>forward</em> direction
  as the transform required to reformat an image in <em>sample</em> (floating)
  space to an image in <em>template</em> space. Since this operation involves
  filling a regular grid in template space by looking up the corresponding
  positions in sample space, the transformation that is required is (somewhat
  counterintuitively) the one that maps template to sample. However in
  neuroanatomical work, one often has points in sample space that one would
  like to transform into template space. Here one needs the <em>inverse</em>
  transformation.</p>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Gregory Jefferis, James Manton.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
