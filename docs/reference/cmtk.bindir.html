<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Return path to directory containing CMTK binaries — cmtk.bindir • nat</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">nat</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Installation.html">Installation details</a>
    </li>
    <li>
      <a href="../articles/NeuroGeometry.html">NeuroGeometry: Analysing 3D morphology of neurons</a>
    </li>
    <li>
      <a href="../articles/neurons-as-graph.html">Working with individual neurons as graph structures</a>
    </li>
    <li>
      <a href="../articles/neurons-intro.html">Introduction to neurons and neuronlists</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jefferis/nat">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Return path to directory containing CMTK binaries</h1>
    </div>

    
    <p>The <a href='www.nitrc.org/projects/cmtk'>Computational Morphometry
  Toolkit</a> (CMTK) is the default image registration toolkit supported by nat.
  An external CMTK installation is required in order to apply CMTK 
  registrations. This function attempts to locate the full path to the CMTK 
  executable files and can query and set an option.</p>
    

    <pre class="usage"><span class='fu'>cmtk.bindir</span>(<span class='kw'>firstdir</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"nat.cmtk.bindir"</span>), <span class='kw'>extradirs</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"~/bin"</span>,
  <span class='st'>"/usr/local/lib/cmtk/bin"</span>, <span class='st'>"/usr/local/bin"</span>, <span class='st'>"/opt/local/bin"</span>,
  <span class='st'>"/opt/local/lib/cmtk/bin/"</span>, <span class='st'>"/Applications/IGSRegistrationTools/bin"</span>,
  <span class='st'>"C:\\cygwin64\\usr\\local\\lib\\cmtk\\bin"</span>,
  <span class='st'>"C:\\Program Files\\CMTK-3.3\\CMTK\\lib\\cmtk\\bin"</span>),
  <span class='kw'>set</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>check</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>cmtktool</span> <span class='kw'>=</span> <span class='st'>"gregxform"</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>firstdir</th>
      <td><p>Character vector specifying path containing CMTK binaries or 
NA (see details). This defaults to options('nat.cmtk.bindir').</p></td>
    </tr>
    <tr>
      <th>extradirs</th>
      <td><p>Where to look if CMTK is not in <code>firstdir</code> or the PATH</p></td>
    </tr>
    <tr>
      <th>set</th>
      <td><p>Whether to set options('nat.cmtk.bindir') with the found 
directory. Also check/sets cygwin path on Windows (see Installation 
section).</p></td>
    </tr>
    <tr>
      <th>check</th>
      <td><p>Whether to (re)check that a path that has been set appropriately
in options(nat.cmtk.bindir='/some/path') or now found in the PATH or 
alternative directories. Will throw an error on failure.</p></td>
    </tr>
    <tr>
      <th>cmtktool</th>
      <td><p>Name of a specific cmtk tool which will be used to identify 
the location of all cmtk binaries.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Character vector giving path to CMTK binary directory or NULL when 
  this cannot be found.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Queries options('nat.cmtk.bindir') if <code>firstdir</code> is not 
  specified. If that does not contain the appropriate binaries, it will look 
  in the system PATH for the <code>cmtk</code> wrapper script installed by most 
  recent cmtk installations.</p>  
<p>Failing that, it will look for the cmtk tool specified by <code>cmtktool</code>, 
  first in the path and then a succession of plausible places until it finds 
  something. Setting <code>options(nat.cmtk.bindir=NA)</code> or passing 
  <code>firstdir=NA</code> will stop the function from trying to locate CMTK, 
  always returning NULL unless <code>check=TRUE</code>, in which case it will error
  out.</p>
    
    <h2 class="hasAnchor" id="installation"><a class="anchor" href="#installation"></a>Installation</h2>

    <p>It is recommended to install released CMTK versions 
  available from the <a href='www.nitrc.org/projects/cmtk/'>NITRC website</a>. A 
  bug in composition of affine transformations from CMTK parameters in the 
  CMTK versions &lt;2.4 series means that CMTK&gt;=3.0 is strongly recommended. 
  CMTK v3 registrations are not backwards compatible with CMTK v2, but CMTKv3
  can correctly interpret and convert registrations from earlier versions.</p>  
<p>On Windows, when <code>set=TRUE</code>, cmtk.bindir will also check that the
  cygwin bin directory is in the PATH. If it is not, then it is added for the
  current R session. This should solve issues with missing cygwin dlls.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code>options</code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>message</span>(<span class='fu'>ifelse</span>(<span class='fu'>is.null</span>(<span class='no'>d</span><span class='kw'>&lt;-</span><span class='fu'>cmtk.bindir</span>()), <span class='st'>"CMTK not found!"</span>,
               <span class='fu'>paste</span>(<span class='st'>"CMTK is at:"</span>,<span class='no'>d</span>)))</div><div class='output co'>#&gt; <span class='message'>CMTK is at: /usr/local/lib/cmtk/bin</span></div><span class='co'># NOT RUN {</span>
<span class='co'># set options('nat.cmtk.bindir') according to where cmtk was found</span>
<span class='no'>op</span><span class='kw'>=</span><span class='fu'>options</span>(<span class='kw'>nat.cmtk.bindir</span><span class='kw'>=</span><span class='kw'>NULL</span>)
<span class='fu'>cmtk.bindir</span>(<span class='kw'>set</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
<span class='fu'>options</span>(<span class='no'>op</span>)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#installation">Installation</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Gregory Jefferis, James Manton.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
