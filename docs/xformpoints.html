<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>xformpoints. nat 1.8.6</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="">

<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/bootstrap-responsive.css" rel="stylesheet">
<link href="css/highlight.css" rel="stylesheet">
<link href="css/staticdocs.css" rel="stylesheet">

<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  </head>

  <body>
    <div class="navbar">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="index.html">nat 1.8.6</a>
      <div class="nav">
        <ul class="nav">
          <li><a href="index.html">Home</a></li>
          <li><a href="reference.html">Reference</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>


    <div class="container">
      <header>
        
      </header>
      
      <h1>Transform 3D points using a registration, affine matrix or function</h1>

<div class="row">
  <div class="span8">
    <h2>Usage</h2>
    <pre><span class="functioncall"><a href='xformpoints.html'>xformpoints</a></span><span class="keyword">(</span><span class="symbol">reg</span><span class="keyword">,</span> <span class="symbol">points</span><span class="keyword">,</span> <span class="symbol">...</span><span class="keyword">)</span>

<span class="comment"># S3 method for character</span>
<span class="functioncall"><a href='xformpoints.html'>xformpoints</a></span><span class="keyword">(</span><span class="symbol">reg</span><span class="keyword">,</span> <span class="symbol">points</span><span class="keyword">,</span> <span class="symbol">...</span><span class="keyword">)</span>

<span class="comment"># S3 method for cmtkreg</span>
<span class="functioncall"><a href='xformpoints.html'>xformpoints</a></span><span class="keyword">(</span><span class="symbol">reg</span><span class="keyword">,</span> <span class="symbol">points</span><span class="keyword">,</span> <span class="argument">transformtype</span>&nbsp;<span class="argument">=</span>&nbsp;<span class="functioncall"><a href='http://www.rdocumentation.org/packages/base/topics/c'>c</a></span><span class="keyword">(</span><span class="string">"warp"</span><span class="keyword">,</span>
  <span class="string">"affine"</span><span class="keyword">)</span><span class="keyword">,</span> <span class="argument">direction</span>&nbsp;<span class="argument">=</span>&nbsp;NULL<span class="keyword">,</span> <span class="argument">FallBackToAffine</span>&nbsp;<span class="argument">=</span>&nbsp;<span class="number">FALSE</span><span class="keyword">,</span> <span class="symbol">...</span><span class="keyword">)</span>

<span class="comment"># S3 method for reglist</span>
<span class="functioncall"><a href='xformpoints.html'>xformpoints</a></span><span class="keyword">(</span><span class="symbol">reg</span><span class="keyword">,</span> <span class="symbol">points</span><span class="keyword">,</span> <span class="symbol">...</span><span class="keyword">)</span>

<span class="comment"># S3 method for default</span>
<span class="functioncall"><a href='xformpoints.html'>xformpoints</a></span><span class="keyword">(</span><span class="symbol">reg</span><span class="keyword">,</span> <span class="symbol">points</span><span class="keyword">,</span> <span class="symbol">...</span><span class="keyword">)</span></pre>
    
    <h2>Arguments</h2>
    <dl>
      <dt>reg</dt>
      <dd>A registration defined by a matrix, a function, a
<code><a href='cmtkreg.html'>cmtkreg</a></code> object, a <code><a href='reglist.html'>reglist</a></code> object containing a
sequence of arbitrary registrations, or a character vector specifying
path(s) to registrations on disk (see details).</dd>
      <dt>points</dt>
      <dd>Nx3 matrix of points</dd>
      <dt>...</dt>
      <dd>Additional arguments passed to methods</dd>
      <dt>transformtype</dt>
      <dd>Which transformation to use when the CMTK file contains
both warp (default) and affine</dd>
      <dt>direction</dt>
      <dd>Whether to transform points from sample space to reference
space (called <strong>inverse</strong> by CMTK) or from reference to sample space
(called <strong>forward</strong> by CMTK). Default (when <code>NULL</code> is inverse).</dd>
      <dt>FallBackToAffine</dt>
      <dd>Whether to use the affine transformation for points
that fail to transform under a warping transformation.</dd>
    </dl>
    
    <div class="Description">
      <h2>Description</h2>

      <p>You should almost always call <code><a href='xform.html'>xform</a></code> rather calling
  than<code>xformpoints</code> directly.</p>

    </div>

    <div class="Details">
      <h2>Details</h2>

      <p>If a list of transformations is passed in, these transformations are
performed in sequence order, such that <code>xformpoints(c(a,b,c), x) ==
xformpoints(c, (xformpoints(b, xformpoints(a, x))))</code></p>

      <p>Note that the direction of CMTK registrations can be the source of
  much confusion. This is because CMTK defines the <em>forward</em> direction
  as the transform required to reformat an image in <em>sample</em> (floating)
  space to an image in <em>template</em> space. Since this operation involves
  filling a regular grid in template space by looking up the corresponding
  positions in sample space, the transformation that is required is (somewhat
  counterintuitively) the one that maps template to sample. However in
  neuroanatomical work, one often has points in sample space that one would
  like to transform into template space. Here one needs the <em>inverse</em>
  transformation.</p>

    </div>
      </div>
  <div class="span4 sidebar">
    <!-- <ul>
      <li>xformpoints</li><li>xformpoints.character</li><li>xformpoints.cmtkreg</li><li>xformpoints.default</li><li>xformpoints.reglist</li>
    </ul>
    <ul>
      
    </ul> -->




  </div>
</div>
      
      <footer>
      <p class="pull-right"><a href="#">Back to top</a></p>
<p>Built by <a href="https://github.com/hadley/staticdocs">staticdocs</a>. Styled with <a href="https://getbootstrap.com/2.0.4/">bootstrap</a>.</p>
      </footer>
    </div>
  </body>
</html>