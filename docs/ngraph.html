<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>ngraph. nat 1.8.6</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="">

<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/bootstrap-responsive.css" rel="stylesheet">
<link href="css/highlight.css" rel="stylesheet">
<link href="css/staticdocs.css" rel="stylesheet">

<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  </head>

  <body>
    <div class="navbar">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="index.html">nat 1.8.6</a>
      <div class="nav">
        <ul class="nav">
          <li><a href="index.html">Home</a></li>
          <li><a href="reference.html">Reference</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>


    <div class="container">
      <header>
        
      </header>
      
      <h1>ngraph: a graph to encode a neuron&#39;s connectivity</h1>

<div class="row">
  <div class="span8">
    <h2>Usage</h2>
    <pre><span class="functioncall"><a href='ngraph.html'>ngraph</a></span><span class="keyword">(</span><span class="symbol">el</span><span class="keyword">,</span> <span class="symbol">vertexlabels</span><span class="keyword">,</span> <span class="argument">xyz</span>&nbsp;<span class="argument">=</span>&nbsp;NULL<span class="keyword">,</span> <span class="argument">diam</span>&nbsp;<span class="argument">=</span>&nbsp;NULL<span class="keyword">,</span> <span class="argument">directed</span>&nbsp;<span class="argument">=</span>&nbsp;<span class="number">TRUE</span><span class="keyword">,</span>
  <span class="argument">weights</span>&nbsp;<span class="argument">=</span>&nbsp;<span class="number">FALSE</span><span class="keyword">,</span> <span class="argument">vertex.attributes</span>&nbsp;<span class="argument">=</span>&nbsp;NULL<span class="keyword">,</span> <span class="argument">graph.attributes</span>&nbsp;<span class="argument">=</span>&nbsp;NULL<span class="keyword">)</span>

<span class="functioncall"><a href='ngraph.html'>as.ngraph</a></span><span class="keyword">(</span><span class="symbol">x</span><span class="keyword">,</span> <span class="symbol">...</span><span class="keyword">)</span>

<span class="comment"># S3 method for data.frame</span>
<span class="functioncall"><a href='ngraph.html'>as.ngraph</a></span><span class="keyword">(</span><span class="symbol">x</span><span class="keyword">,</span> <span class="argument">directed</span>&nbsp;<span class="argument">=</span>&nbsp;<span class="number">TRUE</span><span class="keyword">,</span> <span class="symbol">...</span><span class="keyword">)</span>

<span class="comment"># S3 method for neuron</span>
<span class="functioncall"><a href='ngraph.html'>as.ngraph</a></span><span class="keyword">(</span><span class="symbol">x</span><span class="keyword">,</span> <span class="argument">directed</span>&nbsp;<span class="argument">=</span>&nbsp;<span class="number">TRUE</span><span class="keyword">,</span> <span class="argument">method</span>&nbsp;<span class="argument">=</span>&nbsp;<span class="functioncall"><a href='http://www.rdocumentation.org/packages/base/topics/c'>c</a></span><span class="keyword">(</span><span class="string">"swc"</span><span class="keyword">,</span> <span class="string">"seglist"</span><span class="keyword">)</span><span class="keyword">,</span>
  <span class="symbol">...</span><span class="keyword">)</span></pre>
    
    <h2>Arguments</h2>
    <dl>
      <dt>el</dt>
      <dd>A two columm matrix (start, end) defining edges. <code>start</code> means
closer to the root (soma) of the neuron.</dd>
      <dt>vertexlabels</dt>
      <dd>Integer labels for graph - the edge list is specified 
using these labels.</dd>
      <dt>xyz</dt>
      <dd>3D coordinates of vertices (optional, Nx3 matrix, or Nx4 matrix 
when 4th column is assumed to be diameter)</dd>
      <dt>diam</dt>
      <dd>Diameter of neuron at each vertex (optional)</dd>
      <dt>directed</dt>
      <dd>Whether the resultant graph should be directed (default TRUE)</dd>
      <dt>weights</dt>
      <dd>Logical value indicating whether edge weights defined by the 
3D distance between points should be added to graph (default <code>FALSE</code>) 
<em>or</em> a numeric vector of weights.</dd>
      <dt>vertex.attributes, graph.attributes</dt>
      <dd>List of named attributes to be 
added to the graph. The elements of <code>vertex.attributes</code> must be 
vectors whose length is compatible with the number of elements in the 
graph. See <code><a href='http://www.rdocumentation.org/packages/igraph/topics/set_vertex_attr'>set.vertex.attribute</a></code> for details.</dd>
      <dt>x</dt>
      <dd>Object to convert (see method descriptions)</dd>
      <dt>...</dt>
      <dd>Arguments passed to methods</dd>
      <dt>method</dt>
      <dd>Whether to use the swc data (x$d) or the seglist to define 
neuronal connectivity to generate graph.</dd>
    </dl>
    
    <div class="Value">
      <h2>Value</h2>

      <p><dl>
an <code>igraph</code> object with additional class <code>ngraph</code>, having a
  vertex for each entry in vertexlabels, each vertex having a <code>label</code> 
  attribute. All vertices are included whether connected or not.
</dl></p>

    </div>

    <div class="Description">
      <h2>Description</h2>

      <p>the <code>ngraph</code> class contains a (completely general) graph 
  representation of a neuron&#39;s connectivity in an <code>igraph</code> object. It 
  may additionally contain vertex label or position data. See details.</p>

      <p><code>ngraph()</code> creates an ngraph from edge and vertex information.</p>

      <p><code>as.ngraph</code> converts an object to an ngraph</p>

      <p><code>as.ngraph.dataframe</code> construct ngraph from a data.frame 
  containing SWC format data</p>

      <p><code>as.ngraph.neuron</code> construct ngraph from a neuron</p>

    </div>

    <div class="Details">
      <h2>Details</h2>

      <p>Note that the <code>as.ngraph.neuron</code> method <em>always</em> keeps the
  original vertex labels (a.k.a. PointNo) as read in from the original file.</p>

    </div>

    <div class="Connectivity">
      <h2>Connectivity</h2>

      <p>We make the following assumptions about neurons coming
  in</p>

      <p><ul>
<li> They have an integer vertex label that need not start from 1 and that
  may have gaps</p>

      <p></li>
<li> The edge list which defines connectivity specifies edges using pairs 
  of vertex labels, _not_ raw vertex ids.</p>

      <p></li>
</ul></p>

      <p>We make no attempt to determine the root points at this stage.</p>

      <p>The raw vertex ids in the graph will be in the order of vertexlabels and 
  can therefore be used to index a block of vertex coordinates. The 
  vertexlabels will be stored using the vertex attribute <code>label</code></p>

      <p>When the graph is directed (default) the edges will be from the root to the
  other tips of the neuron.</p>

    </div>

    <div class="Morphology">
      <h2>Morphology</h2>

      <p>The morphology of the neuron is encoded by the 
  combination of connectivity information (i.e. the graph) and spatial data 
  encoded as the 3D position and diameter of each vertex. Position 
  information is stored as vertex attributes X, Y, and Z.</p>

    </div>
    
    <h2 id="examples">Examples</h2>
    <pre class="examples"><div class='input'><span class="symbol">g</span><span class="assignement">=</span><span class="functioncall"><a href='ngraph.html'>as.ngraph</a></span><span class="keyword">(</span><span class="symbol">Cell07PNs</span><span class="keyword">[[</span><span class="number">1</span><span class="keyword">]</span><span class="keyword">]</span><span class="keyword">)</span>
<span class="functioncall"><a href='http://www.rdocumentation.org/packages/base/topics/library'>library</a></span><span class="keyword">(</span><span class="symbol">igraph</span><span class="keyword">)</span></div>
<strong class='message'>
Attaching package: ‘igraph’
</strong>
<strong class='message'>The following object is masked from ‘package:nat’:

    union
</strong>
<strong class='message'>The following objects are masked from ‘package:stats’:

    decompose, spectrum
</strong>
<strong class='message'>The following object is masked from ‘package:base’:

    union
</strong>
<div class='input'><span class="comment"># check that vertex attributes of graph match X position</span>
<span class="functioncall"><a href='http://www.rdocumentation.org/packages/base/topics/all.equal'>all.equal</a></span><span class="keyword">(</span><span class="functioncall"><a href='http://www.rdocumentation.org/packages/igraph/topics/V'>V</a></span><span class="keyword">(</span><span class="symbol">g</span><span class="keyword">)</span><span class="keyword">$</span><span class="symbol">X</span><span class="keyword">,</span> <span class="symbol">Cell07PNs</span><span class="keyword">[[</span><span class="number">1</span><span class="keyword">]</span><span class="keyword">]</span><span class="keyword">$</span><span class="symbol">d</span><span class="keyword">$</span><span class="symbol">X</span><span class="keyword">)</span></div>
<div class='output'>[1] TRUE
</div></pre>
  </div>
  <div class="span4 sidebar">
    <!-- <ul>
      <li>as.ngraph</li><li>as.ngraph.data.frame</li><li>as.ngraph.neuron</li><li>ngraph</li>
    </ul>
    <ul>
      
    </ul> -->

    <h2>See also</h2>
      <p><code><a href='http://www.rdocumentation.org/packages/igraph/topics/aaa-igraph-package'>igraph</a></code>, <code><a href='http://www.rdocumentation.org/packages/igraph/topics/set_vertex_attr'>set.vertex.attribute</a></code>,
  <code><a href='subset.neuron.html'>subset.neuron</a></code> for example of graph-based manipulation of a
  neuron.</p>

      <p>Other neuron: <code><a href='neuron.html'>neuron</a></code>,
  <code><a href='plot.neuron.html'>plot.neuron</a></code>,
  <code><a href='potential_synapses.html'>potential_synapses</a></code>, <code><a href='prune.html'>prune</a></code>,
  <code><a href='resample.html'>resample</a></code>, <code><a href='rootpoints.html'>rootpoints</a></code>,
  <code><a href='spine.html'>spine</a></code>, <code><a href='subset.neuron.html'>subset.neuron</a></code></p>

    


  </div>
</div>
      
      <footer>
      <p class="pull-right"><a href="#">Back to top</a></p>
<p>Built by <a href="https://github.com/hadley/staticdocs">staticdocs</a>. Styled with <a href="https://getbootstrap.com/2.0.4/">bootstrap</a>.</p>
      </footer>
    </div>
  </body>
</html>